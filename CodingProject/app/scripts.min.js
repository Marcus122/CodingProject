!function(){var r=angular.module("app",["ngResource","ngRoute","app.controllers","app.models","app.directives"]);r.config(function(r){var e="/app/views/";r.when("/",{templateUrl:e+"main.html",controller:"MainController"}).when("/search",{templateUrl:e+"search.html",controller:"SearchController"}).when("/search/:letter",{templateUrl:e+"search.html",controller:"SearchController"}).when("/find/:search",{templateUrl:e+"find.html",controller:"FindController"}).otherwise({redirectTo:"/"})})}(),function(){angular.module("app.controllers",[]).controller("AppController",function(r,e){r.title="Country Finder",r.loaded=!1,e.init(function(){r.loaded=!0})}).controller("MainController",function(r,e){r.search=function(){r.find&&e.path("/find/"+r.find)}}).controller("FindController",function(r,e,t){r.search=e.search,r.countries=t.search(r.search)}).controller("SearchController",function(r,e,t){r.letter=e.letter?e.letter:"A",r.countries=t.filter(r.letter);var n=t.getAll();r.letters=n.map(function(r){return r.Name.substring(0,1)}).filter(function(r,e,t){return t.indexOf(r)===e})})}(),function(){angular.module("app.directives",[]).directive("letter",function(){var r={restrict:"EA",scope:{letter:"=data"},link:function(r){r.href="#/search/"+r.letter},templateUrl:"/app/directives/letter.html"};return r}).directive("country",function(){var r={restrict:"EA",scope:{country:"=data"},templateUrl:"/app/directives/country.html"};return r})}(),function(){angular.module("app.models",[]).factory("Country",function(r){return r("/api/country/:code",{name:"@code"})}).factory("Countries",function(r){function e(){return i}function t(e){return i?e(i):void(i=r.query(e))}function n(){i=null}function o(r,e){return i.filter(function(e){return e.Name.substring(0,1)===r})}function l(r,e){return i.filter(function(e){return e.Name.indexOf(r)>-1})}function c(r){t(r)}var i;return{clear:n,getAll:e,filter:o,search:l,init:c}})}();